# ===========================================
# AI Learning Agent for Medium - Configuration
# ===========================================
# Copy this file to .env and fill in your values
# cp .env.example .env

# -------------------------------------------
# n8n Configuration
# -------------------------------------------
N8N_USER=admin
N8N_PASSWORD=your-secure-password-here
N8N_HOST=localhost
TIMEZONE=America/New_York

# -------------------------------------------
# Anthropic API (for Claude AI)
# -------------------------------------------
# Get your key at: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key-here

# -------------------------------------------
# Telegram Bot Configuration
# -------------------------------------------
# Create bot: Message @BotFather on Telegram, send /newbot
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz

# Get your chat ID: Message @userinfobot on Telegram
TELEGRAM_CHAT_ID=123456789

# -------------------------------------------
# Schedule Configuration
# -------------------------------------------
# Cron expression for when to run (default: 7 AM daily)
# Format: minute hour day month weekday
SCHEDULE_CRON=0 7 * * *

# -------------------------------------------
# Content Settings
# -------------------------------------------
# Maximum explanation length (words) - affects audio duration
MAX_EXPLANATION_WORDS=500

# Target audio duration in minutes
TARGET_AUDIO_MINUTES=3

# -------------------------------------------
# AI Model Selection
# -------------------------------------------
# Options: claude-3-haiku-20240307, claude-3-5-sonnet-20241022
AI_MODEL=claude-3-haiku-20240307

# -------------------------------------------
# TTS Settings (Edge TTS - Free)
# -------------------------------------------
# Voice options: en-US-AriaNeural, en-US-GuyNeural, en-US-JennyNeural
# Full list: https://github.com/rany2/edge-tts
TTS_VOICE=en-US-AriaNeural

# Telegram bot username (without @), used for deep links from the subscribe page.
# Optional if TELEGRAM_BOT_TOKEN is set (service will auto-resolve via Telegram getMe).
TELEGRAM_BOT_USERNAME=your_bot_username

# Optional secret token used to verify Telegram webhook requests
TELEGRAM_WEBHOOK_SECRET=replace-with-a-random-secret

# Link validity (seconds) for /api/telegram/subscribe deep links
SUBSCRIPTION_LINK_TTL_SECONDS=900

# How long to keep link status records (seconds) for UI confirmation polling/history
SUBSCRIPTION_LINK_STATUS_RETENTION_SECONDS=86400

# Comma-separated topics shown on the subscribe page and accepted for subscriptions
TELEGRAM_SUBSCRIPTION_TOPICS=data-engineering,machine-learning,cloud-architecture,ai-tools

# CORS origins for browser calls to the subscription API (* for development)
TELEGRAM_SUBSCRIPTION_CORS_ORIGINS=*

# Persistent storage for serverless deployments (Vercel/Upstash)
# If these are set, subscription state is stored in Redis instead of local files.
KV_REST_API_URL=
KV_REST_API_TOKEN=
# Optional key prefix for Redis keys
SUBSCRIPTION_STORAGE_PREFIX=topic-alerts

# Public HTTPS endpoint for Telegram webhook setup script
# Example: https://your-domain.com/api/telegram/webhook
TELEGRAM_SUBSCRIPTION_WEBHOOK_URL=
